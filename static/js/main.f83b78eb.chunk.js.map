{"version":3,"sources":["components/SearchBar/SearchBar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","services/gallery-api.js","components/App/App.jsx","services/smoothScroll.js","index.js"],"names":["SearchBar","onSubmit","className","e","preventDefault","target","elements","searchValue","value","type","name","autoComplete","autoFocus","placeholder","ImageGalleryItem","item","onClick","largeImageURL","src","webformatURL","alt","ImageGallery","gallery","map","id","Button","children","modalRoot","document","querySelector","Modal","handleOverlayClick","currentTarget","props","onClose","handleKeyDown","code","window","addEventListener","this","removeEventListener","createPortal","Component","axios","defaults","baseURL","params","image_type","key","fetchGallery","query","page","a","get","q","data","hits","App","useState","setSearchValue","setGallery","setPage","isModalOpen","setIsModalOpen","reqStatus","setReqStatus","largeImgUrl","setLargeImgUrl","useEffect","images","length","toast","error","autoClose","console","log","handleLoadMore","prev","scrollTo","top","documentElement","scrollHeight","behavior","color","height","width","timeout","galleryLength","dataset","large","style","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f83b78eb.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction SearchBar({ onSubmit }) {\n  const handleSearch = (e) => {\n    e.preventDefault();\n    onSubmit(e.target.elements.searchValue.value);\n  };\n  return (\n    <header className=\"Searchbar\">\n      <form onSubmit={handleSearch} className=\"SearchForm\">\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          name=\"searchValue\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n}\n\nexport default SearchBar;\n","import React from \"react\";\n\nfunction ImageGalleryItem({ item, onClick }) {\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        data-large={item.largeImageURL}\n        onClick={onClick}\n        src={item.webformatURL}\n        alt=\"\"\n        className=\"ImageGalleryItem-image\"\n      />\n    </li>\n  );\n}\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\n\nfunction ImageGallery({ gallery, onClick }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {gallery.map((item) => (\n        <ImageGalleryItem onClick={onClick} key={item.id} item={item} />\n      ))}\n    </ul>\n  );\n}\n\nexport default ImageGallery;\n","import React from \"react\";\n\nfunction Button({ onClick, children }) {\n  return (\n    <button className=\"Button\" onClick={onClick}>\n      {children}\n    </button>\n  );\n}\n\nexport default Button;\n","import React, { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n  handleOverlayClick = (e) => {\n    if (e.target === e.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div onClick={this.handleOverlayClick} className=\"Overlay\">\n        <div className=\"Modal\">{this.props.children}</div>\n      </div>,\n\n      modalRoot\n    );\n  }\n}\n","import axios from \"axios\";\n\nconst API_KEY = \"22496813-a3fbe39786787c712b168fbe4\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = {\n  image_type: 'photo',\n  key: API_KEY,\n}\n\nexport const fetchGallery = async (query, page) => {\n  const { data } = await axios.get('', {\n    params: {\n      page,\n      q: query\n    }\n  })\n\n  return data.hits;\n}\n\n","import { React, useState, useEffect } from \"react\";\nimport SearchBar from \"../SearchBar/SearchBar\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Button from \"../Button/Button\";\nimport Modal from \"../Modal/Modal\";\nimport { fetchGallery } from \"../../services/gallery-api\";\nimport { smoothScroll } from \"../../services/smoothScroll\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport Loader from \"react-loader-spinner\";\n\nfunction App() {\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [gallery, setGallery] = useState([]);\n  const [page, setPage] = useState(1);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [reqStatus, setReqStatus] = useState(\"idle\");\n  const [largeImgUrl, setLargeImgUrl] = useState(\"\");\n\n  useEffect(() => {\n    if (!searchValue) return;\n\n    (async () => {\n      try {\n        setReqStatus(\"pending\");\n        setLargeImgUrl(\"\");\n\n        const images = await fetchGallery(searchValue);\n        if (images.length === 0) {\n          toast.error(\n            \"Try another keyword. No matches\",\n            {\n              autoClose: 3000,\n            }\n          );\n        }\n        setReqStatus(\"resolved\");\n        setGallery(images);\n      } catch (error) {\n        console.log(error);\n      }\n    })();\n  }, [searchValue]);\n\n  useEffect(() => {\n    if (!searchValue) return;\n\n    (async () => {\n      try {\n        setReqStatus(\"pending\");\n        setLargeImgUrl(\"\");\n\n        const images = await fetchGallery(searchValue);\n        if (images.length === 0) {\n          toast.error(\n            \"Sorry, there are no images matching your search query. Please try again.\",\n            {\n              autoClose: 3000,\n            }\n          );\n        }\n        setReqStatus(\"resolved\");\n        setGallery(images);\n      } catch (error) {\n        console.log(error);\n      }\n    })();\n  }, [searchValue]);\n\n  const handleLoadMore = async () => {\n    setPage((prev) => prev + 1);\n    const images = await fetchGallery(searchValue, page + 1);\n    setGallery((prev) => [...prev, ...images]);\n    smoothScroll();\n  };\n\n  const handleSubmit = (searchValue) => {\n    setGallery([]);\n    setSearchValue(searchValue);\n    setPage(1);\n  };\n\n  const handleLargeImgUrl = (e) => {\n    setIsModalOpen(true);\n    setLargeImgUrl(e.target.dataset.large);\n  };\n\n  const toggleModal = () => {\n    setIsModalOpen(false);\n  };\n\n  if (reqStatus === \"pending\") {\n    return (\n      <div className=\"Container\">\n        <Loader\n          type=\"Puff\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={10000}\n        />\n      </div>\n    );\n  }\n\n  const galleryLength = gallery.length > 1;\n\n  return (\n    <div className=\"Container\">\n      <SearchBar onSubmit={handleSubmit} />\n      <ImageGallery onClick={handleLargeImgUrl} gallery={gallery} />\n      {galleryLength && (\n        <Button onClick={handleLoadMore}>Load more</Button>\n      )}\n      {isModalOpen && (\n        <Modal src={largeImgUrl} onClose={toggleModal}>\n          <div style={{ width: 900 }}>\n            <img src={largeImgUrl} alt=\"\" />\n          </div>\n        </Modal>\n      )}\n      <ToastContainer />\n    </div>\n  );\n}\n\nexport default App;\n","export const smoothScroll = () =>\n  window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: \"smooth\",\n  });\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport App from \"./components/App/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}